# 关键知识点

[TOC]

## 1. RS 概念相关

### 1.1 推荐系统解决的主要问题

+ 信息过载

+ 无明确需求

+ >  任务:联系用户以及物品的关联,解决信息过载的问题;
  >
  > ​      让信息更好的展现在对其感兴趣的用户面前

### 1.2 推荐系统的输入以及输出

#### Input

item: 各项属性描述; User: 用户信息以及行为; 评分矩阵:点击,购买,rating -> 稀疏

#### Output:

+ 相关度评分
+ TopN 推荐列表

### 1.3 推荐系统的评测

+ 离线实验(不刷要用户参与,方便快捷进行计算,便与测试大量的算法)

  | 评价指标   | 关注点                                                       |
  | ---------- | ------------------------------------------------------------ |
  | 用户满意度 | 不适于离线方法                                               |
  | 预测准确度 | 评分/TopN 的准确度,离线评测的主要指标<br />分类准确度: user对于item的喜好判断准确与否 准确率,召回率<br />排序准确度: 算法产生的推荐列表与用户对于产品排序的相似程度NDCG |
  | 覆盖率     | 对于物品长尾的发掘能力                                       |
  | 多样性     | 推荐列表可以覆盖的兴趣领域                                   |
  | 新颖性     | 为用户推荐没有用过的产品                                     |
  | 惊喜度     | 推荐结果与用户的历史兴趣不相近,但是满意度较高                |
  | 信任度     | 适用于问卷调查                                               |
  | 实时性     | 实时更新推荐列表;对于新加入的item推荐给用户                  |
  | 健壮性     | 抗击作弊的能力                                               |
  | 商业目标   |                                                              |

  

+ 用户调查

+ 在线实验

### 1.4 长尾效应

统计学中的幂率分布以及帕托雷分布;传统的80/20(80的销售额来自20的热门商品)原则在互联网下会受到挑战;

主流商品可以代表大多数的用户的需求,但是长尾商品代表了个性化需求. **推荐系统需要能够帮助商家将埋没在肠胃中的好商品推荐给可能对其感兴趣的用户**

### 1.5 推荐系统的挑战

+ 冷启动:

  常见的方法有:利用用户的注册信息,跨社交网络的用户检测,多样性试探,专家标注,异构网络

+ 数据稀疏

  多网络信息融合

+ 恶意攻击

+ 可解释性: 实际应用中,用户需要得知推荐理由.以隐语义模型为代表的推荐系统缺乏明确的可解释性,具有标签的推荐系统具有更好的可解释性

### 1.6 推荐系统的本质

通过一定的方式将用户以及物品联系起来,可以利用户的好友,历史兴趣记录以及用户的注册信息等.

**处理的核心问题**

+ 预测,预测喜好以及打分
+ 推荐,对于推荐列表进行排序
+ 解释,对于推荐列表进行解释

**RS附加信息**

+ 利用社交网络数据
+ 上下文信息
+ 用户行为数据
+ 用户标签数据

### 1.7 用户的行为数据

来自于网站的会话日志,记录用户的行为以及对应服务.对于用户的行为,可以按照反馈的方向分为正反馈以及负反馈

按照反馈的明确性分为:

+ 显式反馈: 简单直接的反馈数据,可以相对准确的反映用户的偏好; 很难收到时效,用户很少愿意进行大量的显示反馈,数据量较小
+ 隐式反馈:减少用户不必要的负担;跟踪结果未必能反映用户的真实喜好

用户活跃度以及物品流行度分布满足幂率分布,即长尾效应.

### 1.8 推荐系统分类

#### 依据推荐结果

+ 大众化推荐  依据popular进行推荐
+ 个性化推荐

#### 依据输入数据

+ 基于规则的推荐
+ 基于人口统计的推荐
+ 基于内容
+ 基于协同过滤

## 2. 协同过滤

### 2.1 协同过滤的思想

+ 收集用户的历史行为以及偏好信息,利用群体智慧给出推荐
+ 朋友之间的相互推荐

可以分为三种模型:

+ 基于用户
+ 基于item
+ 基于模型

主要方法:

+ 基于邻域的方法(user, item)
+ 隐语义模型
+ 基于图的随机游走

### 2.2 User-based CF

通过不同用户对于item的评分来评测用户间的相似性,利用用户的相似性进行推荐:

+ 找到与此用户相似的其他用户(相似度计算)
+ 将这些用户的兴趣推荐给此用户(邻域加权平均)

#### 相似度度量的方式

+ 欧氏距离
+ Jaccard 相似度
+ 余弦相似度
+ Pearson 相关系数

### predict 加权方式

+ 所有相似用户的评分的均值
+ 其他相似用户与该用户的相似度与其他用户的评分的乘积的和与用户间相似度和的比值
+ 其他用户y与该用户x的相似度与(avg(y)-y_i)的积与x, y相似度的比值,

### 2.3 Item-based CF

通过用户对于不同的item的评分来预测item的相似性,基于item间的相似性进行推荐.

**开源系统**

- surprise
- Crab
- LibRec

## 3. 矩阵分解工具

+ SVDFeature

+ LibMF


## 4. 冷启动

+ 用户冷启动： 提供非个性化的推荐、利用用户的注册信息、利用用户的社交网络信息、用户登录时兴趣选择
+ 物品冷启动： 利用物品的内容信息，推荐给喜欢相近物品的用户
+ 系统冷启动: 引入专家知识

### 4.1 用户冷启动

#### 利用用户的注册信息

注册信息：

+ 人口统计信息：年龄，性别。职业。民族
+ 用户的兴趣描述
+ 从其他网站导入的用户行为数据

#### 选择合适的物品启动用户的兴趣

物品具有以下特点:

+ 比较热门
+ 具有代表性以及区分性
+ 启动物品的集合具有多样性

物品i的区分度可以由一群用户对于该物品的评价的方差来表示；可以把用户分为三类：

+ 喜欢物品i
+ 不喜欢物品i
+ 不知道物品i

使用DT的方法：

+ 每一次选取最有区分度的物品i，作为结点
+ 将用户分为三类
+ 从每一个分之继续选择结点，递归
+ 直到用户可以分类为止

**冷启动时**

+ 从根节点询问用户对于该物品的看法
+ 根据用户的不同选择，到达不同的分支；直到进入叶节点
+ 此时对于用户的兴趣有了清晰的认知，可以进行推荐

### 4.2 物品冷启动

#### 基于内容的方法的步骤

+ Item 表示

  为每一个item抽取一些特征属性；进行内容分析

+ 用户画像学习

  利用用户的历史喜好信息，学习该用户的喜好特征；特征学习

+ 进行推荐：

  比较用户特征以及item特征，为用户推荐关联度最大的item

#### 特征组合

通过将单独的特征进行组合而形成的合成特征，特征组合有助于表示非线性关系

## 5. 标签

### 5.1 UGC

用户产生内容(User Generated Content)

UGC标签是一种表示用户兴趣以及物品语义的重要方式。基于标签的推荐:

+ 如何利用用户的标签行为为其推荐物品
+ 如何在用户打标签时为其推荐适合该物品的标签

**标签扩展：**

本质是为每一个标签中找到其相似的标签，也就是计算标签间的相似度。

+ 同义词词典
+ 主题模型
+ 共现次数，统计学方法

### 5.2 图模型

可以把基于邻域的模型看做是基于图模型的简单形式。用户行为用二分图表示，v代表了user，item组成的顶点集，E代表了一个二元组(u, i)对应的边e(u, i).不考虑喜好程度。使用图模型进行协同过滤。目标：度量用户顶点u与没有便直接相连的物品顶点间的相关性。相关性比较高的顶点间的一般具有以下特征:

+ 两个顶点间有路径相连
+ 连接两个顶点的路径比较短
+ 连接两个顶点之间的路径不会经过出度比较大的顶点

## 6. 社交网络

### 6.1 统计特性

+ 度：与某一个节点连接的边的数目
+ 网络密度：网络中实际存在的边的数量与网络中可容纳的边的数量的比值
+ 聚类系数：用于描述网络中与同一结点相连的其他节点也互为邻居节点的程度
+ 介数：某个节点承载整个图的最短路径的数量，评价结点的重要程度

### 6.2 社区发现的聚类算法

//todo

1. GN算法
   + 计算网络中的所有边的介数
   + 找到介数最大的边，并将其从网络中移除
   + 重复以上步骤，直到每个节点是一个社区为止
2. Louvain
3. 标签传播算法
4. 随机游走算法

### 6.3 文本情感分析

+ 首先构建一个情感词典
+ 计算评价词与情感词典中已经标注倾向性的词的距离
+ 距离计算使用点互信息算法：两个词共同出现的概率与单独出现概率的比值的对数

$$
PMI(w1, w2) = log \frac{p(w1\&w2)}{p(w1)p(w2)} \\
SO-PMI = \sum_{p \in pwords} PMI(w, p) - \sum_{n \in nwords} PMI(w, n)
$$

### 6.4 个体影响力分析

1. 基于网络结构计算

   中心度表示了一个节点在网络中的处于核心的程度

   + 度中心度：与该节点直接相连的节点的数量
   + 介数：网络中所有最短路径的数量，除以经过a节点的数量就是a的介数
   + 接近中心度：结点与网络中其他节点的最短距离值和
   + 特征向量中心度

2. 基于行为的

3. 基于话题的

### 6.5 社交网络内容搜索

+ 时间先验方法
+ 多特征组合方法

### 6.6 传播规律模型

+ 基于网络结构的传播模型
  + 线性阈值模型
  + 独立级联模型
+ 基于群体状态的传播模型
  + 传染病模型

### 6.7 话题检测与跟踪

+ 报道切分
+ 话题追踪
+ 话题检测
+ 关联检测

### 7. 社交网络推荐

### 7.1 数据种类

+ 双向确认的社交网络数据
+ 单向关注的社交网络数据
+ 基于社区的社交网络数据

### 7.2 社会正则化方法

使用用户相似性约束矩阵分解的目标函数，相当于在矩阵分解中加入先验知识。

### 7.3 组推荐

组推荐是为参与共同活动的群体推荐满足群体中所有成员的共同爱好的信息系统。

+ 不仅针对个人，同时针对群体
+ 群组内的偏好差异需要一定的均衡，并向群体内推荐最有利的item

### 7.4 链接预测

好友推荐。通过用户的行为、现有好友给用户推荐新的好友。

+ 基于内容：人口统计属性；位置；兴趣

+ 基于共同兴趣： 基于用户的CF

+ 基于社交网络：好友的好友；相似度计算

  