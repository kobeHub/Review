# 纹理分析

[TOC]

## 1. 纹理分析的作用

纹理可以看作局部不规则而具有宏观规律的的特征。与颜色特征不同，纹理特征不是居于像素点的特征，而是基于包含多个像素点的区域的统计计算对于纹理的描述方法依赖于纹理的模式、尺度以及应用的环境。常用的纹理表达以及描述方法包括：

+ 统计法
+ 结构法
+ 频谱法

对于计算机视觉来说，纹理是为了分割和识别场景或者物体表面类型而产生的一种视觉标记。

## 2. 灰度共生矩阵

描述了像素间的特定的位置关系，灰度共生矩阵的特定位置记录的是对应灰度值满足位置算子W的点对的数量。

**$p_{ij}$表示灰度值为g_j的点相对于W确定的灰度值为g_i的点的数量。**W可以表示向右向下各一个像素。如果只有三个灰度等级，则$p_{13}$表示g1像素出现在g2右下方的点对的数量。

## 3. 基于共生矩阵的描述

### 3.1 二阶矩

灰度共生矩阵中各元素值的平方和，反映了图像灰度分布的均匀程度以及纹理的粗细程度。
$$
W_M = \sum_{g_1} \sum_{g_2}p ^2(g1, g2)
$$

+ 如果灰度共生矩阵所有值均相等，则能量较小
+ 如果其中一些值较大，另一些较小，则能量值较大
+ 共生矩阵中的能量集中分布时能量值较大

*能量值大表明一种均一和规则变化的纹理模式,当二阶矩达到最小时图像最光滑*

### 3.2 熵

$$
W_E = -\sum_{g1} \sum_{g2} p(g_1, g_2)log\;p(g_1, g_2)
$$

描述了图像的信息量，是对内容随机性的度量，如果所有的p相等（均匀分布），熵最大。纹理复杂程度越高，熵值越大。

### 3.3 对比度

灰度共生矩阵各元素间灰度差的一阶矩，反映了图像的清晰程度以及纹理沟纹的深浅程度。

![](http://media.innohub.top/190526-dvi.png)

### 3.4 均匀性

![](http://media.innohub.top/190526-jun.png)

## 4. 基于能量的描述

利用模板计算局部纹理能量，可以获得灰度变化的信息。对于图像f(x, y)可以借助一组模板，进行卷积操作。对于KxK的模板，对应与第n个模板，求属性的一阶统计量例如均值:
$$
T_n (x, y) = \frac{1}{k*k} \sum _{i = -(k-1)/2} ^{(k-1)/2} \sum _{j = -(k-1)/2} ^{(k-1)/2}
|g_n(x+i, y+j)|   \\ gn 为卷积结果
$$
这样每一个像素位置都有一个纹理特征矢量。

### 4.1 模板

常用的模板有3×3,5×5,7×7.

+ L表示层
+ S代表形状
+ W代表波
+ R代表纹
+ O代表震荡

可以借助5个1D的模板进行结合得到16个2D模板，其中的一些可以进一步结合，最终得到9幅能量图

+ 当模板较小时，有可能检测不到大尺度的纹理结构
+ 纹理能量计算的平滑操作可能会模糊跨越边缘的纹理特征值

## 5. 结构描述方法

### 5.2 空间LBP

基本的LBP是将像素的灰度值与其8邻域内的其他像素值进行比较，将大于等于中心点的值置为1，小于置为0  8个点可以作为一个8为二进制数，得到LBP码（从（0， 0）处顺时针方向）。

可以使用不同尺寸的邻域对于LBP算子进行扩展，将3X3扩展到任意邻域，使用圆形邻域替代正方形邻域。

LBP的改进，对于旋转不变形的改进:

不断旋转圆形邻域，得到一系列初始定义的LBP值，取其最小值作为该邻域的LBP值，可以消除旋转带来的影响

![旋转不变](http://media.innohub.top/190526-lbp.png)

**旋转不变的LBP特征起到了一定的降维作用，对于p=8, R=1的邻域，有256种取值可能，使用旋转不变LBP只会存在36种**

### 5.3 均匀模式

将一个邻域内的像素循环考虑，如果它包含最多两个从0-1或者从1-0的过渡，则这个二值模式是均匀的。这样数量就从$2^p$降到了$p(p-1)+2$种。尽管均匀模式只占了全部模式的一小部分，但是可以刻画90%以上的纹理特征模式。

![分类](http://media.innohub.top/190526-lbplo.png)



